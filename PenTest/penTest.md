# Penetration Testing | PenTesting

It is an ethically driven attempt to TEST and ANALYSE the defebse if the systems.

They use same tool, method, technique that are used by a malicious actor to compromise the `CIA`.

### PT is **authorised audit** of the computer systems secuirty and defenses as agreed upon by the owner of the organization.

## Type of hackers:

### 1. Black hat:
- Cyber criminals 
- Damange an target organization 
- Gain finacial benfits

### 2. Grey hat:
- Help other
- Dont follow the laws and legal framework while hacking

### 3. White hat:
- Lawfully hack systems.
- ethically and morally right.

## Rules Of Engagement (ROE):
- A document that is created in the **intial phase** of the pentesting.
- main section involves:
    - Permission:
        - legal permission to engage on pentesting
        - it is a legal protection for a hacker / organization.

    - Test scope:
        - explore the scope of the PT to be applied.
        - example 
            1. only so and so servers are allowed.
            2. this set of application is allowed.
    - Rules:
        - specify the techniques that will be allowed.
        - example - 
            1. phishing attacks not allowed
            2. MIIT - allowed.

## Methodology:

The steps a pentester takes during an engagment is called methodology

No method is best method.   

### Desgin the methodology as per the need of the system.

### General Stages:

1. **Information Gathering:**
    - collecting publically avialable information on target/organization. 
    - example:
        - OSINT
        - research  

        ` no scanning of the system. `

2. **Enumeration / scanning:**
    - discovering ***appilications*** and ***services*** running on the system.
    - example:
        - finding web servers that is vulnerable.

3. **Exploitation:**
    - leveraging found vulnerabilites.
    - use public exploits 
    - exploit application logic.

4. **Privilege Escalation:**
    - once gained the ***foothold*** (gained initial access by exploitation ) expand the acess to the system.
    - escaplate ***horizontally*** or ***vertically***.
    - ***Horizontal*** - accessing another user in same permission group
    - ***vertical*** - accessing another permission group.

5. **Post-exploition:**
    - **pivoting** - what other hosts can be exploited.
    - Additional information gathering as a privilaged user.
    - covering your tracks
    - reporting. 

### OSSTMM:

Open Source Security testing Methodology Manual.

```
Detailed framework on testing strategies for systems, application, software, communications and human aspect of cybersecurity.
```

#### Primary focus - how systems, applications communicate.
- Telecommunication (VoIP, phone, etc)
- Wired network
- Wireless communications

### OWASP:

Open Web Application Security Project.

```
Framework to test the Secuirty of web application and services.
```

### NIST Cybersecurity Framework 1.1

```
used to improve an organisations cybersecurity standards and manage the risk of cyber threats. 
```

The framework provides guidelines on security controls & benchmarks for success for organisations from critical infrastructure (power plants, etc.) all through to commercial.

`Not much methodology for pentesting.`

### NCSC CAF

Cyber Assessment Framework.

`14 principles` used to access the risk of various cyber threats and organizations defence aginst these.

Focus area:
- data security
- system security
- indentity and access control
- resiliency 
- monitoring
- reporting & recovery plans

## Scope of Testing:

3 primary scope of testing an application / service.

`How much you know about the target` determine the level of testing

### 1. Black Box:
- tester **not** given any **information** on inner working of application or service.
- tester act as a regular user.
- test the functionalities of the application first.
- tester interact with the inteface (eg - click on button and comfirm if intended result is shown)
- no knowledge of internal code, logic or structure.
- `more time is spent on infomationation gethering and enumeration phase to understand the attack surface of the target.` 

### Grey-Box Testing:
- most popular in `pentesting`.
- **combination** of both - black and white testing.
- tester have **limited knowledge** of the internal components of app.
- tester interact with the app as if it is black box scenario and then use thier knowledge of app to reslove the issue.
- ` use for extremely well-hardened attack surfaces.`

### White-box Testing:
- usually done by `software developers`.
- tester know complete program logic and backend.
- `Full knowledge`
- entire attack surface can be validated.
- in depth testing.